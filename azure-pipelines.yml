trigger:
- master
- develop

pool:
  vmImage: 'ubuntu-18.04'

variables:
  buildConfiguration: 'Release'
  isMain: $[eq(variables['Build.SourceBranch'], 'refs/heads/master')]

steps:
- script: chmod +x ./build.sh
  displayName: 'Add Execution permission to shell script'
- script: ./build.sh --target Information --skip
  displayName: 'Information â„¹'
- script: ./build.sh --target Preparation --skip
  displayName: 'Preparation ğŸ—'
- script: ./build.sh --target Compile Restore Clean --skip
  displayName: 'Compile âš™ï¸'
- script: ./build.sh --target RunUnitTests --skip
  displayName: 'Run Unit Tests ğŸ§ª'
- script: ./build.sh --target PushNugetPackages PackNugetPackages --skip
  condition: eq(variables.isMain, true)
  displayName: 'Pack & Push Nuget Packages ğŸ“¦'